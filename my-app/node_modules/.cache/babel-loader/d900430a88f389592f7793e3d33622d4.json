{"ast":null,"code":"/*import React from \"react\";\nimport \"antd/dist/antd.css\";\nimport { Table } from \"antd\";\nimport axios from \"axios\";\n\nconst columns = [\n  {\n    title: \"Name\",\n    dataIndex: \"name\",\n    sorter: true,\n    render: (name) => `${name.first} ${name.last}`,\n    width: \"20%\"\n  },\n  {\n    title: \"Gender\",\n    dataIndex: \"gender\",\n    filters: [\n      { text: \"Male\", value: \"male\" },\n      { text: \"Female\", value: \"female\" }\n    ],\n    width: \"20%\"\n  },\n  {\n    title: \"Email\",\n    dataIndex: \"email\"\n  }\n];\n\nconst getRandomuserParams = (params) => {\n  return {\n    results: params.pagination.pageSize,\n    page: params.pagination.current,\n    ...params\n  };\n};\n\nclass PersonList extends React.Component {\n  state = {\n    data: [],\n    pagination: {\n      current: 1,\n      pageSize: 10\n    },\n    loading: false\n  };\n\n  componentDidMount() {\n    const { pagination } = this.state;\n    this.fetch({ pagination });\n  }\n\n  handleTableChange = (pagination, filters, sorter) => {\n    this.fetch({\n      sortField: sorter.field,\n      sortOrder: sorter.order,\n      pagination,\n      ...filters\n    });\n  };\n\n  fetch = (params = {}) => {\n    this.setState({ loading: true });\n\n    axios\n      .get(\"https://randomuser.me/api\", {\n        params: getRandomuserParams(params)\n      })\n      .then((response) => {\n        const { data } = response;\n\n        this.setState({\n          loading: false,\n          data: data.results,\n          pagination: {\n            ...params.pagination,\n            total: 200 // Mock data\n          }\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .then(() => {\n        this.setState({\n          loading: false\n        });\n      });\n  };\n\n  render() {\n    const { data, pagination, loading } = this.state;\n    return (\n      <Table\n        columns={columns}\n        rowKey={(record) => record.login.uuid}\n        dataSource={data}\n        pagination={pagination}\n        loading={loading}\n        onChange={this.handleTableChange}\n      />\n    );\n  }\n}\n\nexport default PersonList;\n*/","map":{"version":3,"sources":["/home/irem/Desktop/obss/irem.karaca/week4_react/reactDemo/my-app/src/fetch-example/PersonList.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/*import React from \"react\";\nimport \"antd/dist/antd.css\";\nimport { Table } from \"antd\";\nimport axios from \"axios\";\n\nconst columns = [\n  {\n    title: \"Name\",\n    dataIndex: \"name\",\n    sorter: true,\n    render: (name) => `${name.first} ${name.last}`,\n    width: \"20%\"\n  },\n  {\n    title: \"Gender\",\n    dataIndex: \"gender\",\n    filters: [\n      { text: \"Male\", value: \"male\" },\n      { text: \"Female\", value: \"female\" }\n    ],\n    width: \"20%\"\n  },\n  {\n    title: \"Email\",\n    dataIndex: \"email\"\n  }\n];\n\nconst getRandomuserParams = (params) => {\n  return {\n    results: params.pagination.pageSize,\n    page: params.pagination.current,\n    ...params\n  };\n};\n\nclass PersonList extends React.Component {\n  state = {\n    data: [],\n    pagination: {\n      current: 1,\n      pageSize: 10\n    },\n    loading: false\n  };\n\n  componentDidMount() {\n    const { pagination } = this.state;\n    this.fetch({ pagination });\n  }\n\n  handleTableChange = (pagination, filters, sorter) => {\n    this.fetch({\n      sortField: sorter.field,\n      sortOrder: sorter.order,\n      pagination,\n      ...filters\n    });\n  };\n\n  fetch = (params = {}) => {\n    this.setState({ loading: true });\n\n    axios\n      .get(\"https://randomuser.me/api\", {\n        params: getRandomuserParams(params)\n      })\n      .then((response) => {\n        const { data } = response;\n\n        this.setState({\n          loading: false,\n          data: data.results,\n          pagination: {\n            ...params.pagination,\n            total: 200 // Mock data\n          }\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .then(() => {\n        this.setState({\n          loading: false\n        });\n      });\n  };\n\n  render() {\n    const { data, pagination, loading } = this.state;\n    return (\n      <Table\n        columns={columns}\n        rowKey={(record) => record.login.uuid}\n        dataSource={data}\n        pagination={pagination}\n        loading={loading}\n        onChange={this.handleTableChange}\n      />\n    );\n  }\n}\n\nexport default PersonList;\n*/"]},"metadata":{},"sourceType":"module"}